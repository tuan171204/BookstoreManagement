üìñ Bookstore Management ‚Äì Setup Guide
1Ô∏è‚É£ Y√™u c·∫ßu h·ªá th·ªëng

.NET SDK: 6.0 tr·ªü l√™n

SQL Server (Express / Developer / LocalDB ƒë·ªÅu ƒë∆∞·ª£c)

Entity Framework Core Tools (ƒë·ªÉ ch·∫°y migration), ch∆∞a c√≥ th√¨ c√†i b·∫±ng c√°ch:
Terminal:
>> dotnet tool install --global dotnet-ef

2Ô∏è‚É£ Clone d·ª± √°n
https://github.com/tuan171204/BookstoreManagement.git
cd <your-repo>

3Ô∏è‚É£ C·∫•u h√¨nh chu·ªói k·∫øt n·ªëi
Trong file appsettings.json, s·ª≠a l·∫°i ConnectionStrings:DefaultConnection cho ph√π h·ª£p v·ªõi SQL Server tr√™n m√°y:

"ConnectionStrings": {
  "DefaultConnection": "Server=<ƒë·ªÉ t√™n Server MSSQL tr√™n m√°y>;Database=BookstoreDB;Trusted_Connection=True;MultipleActiveResultSets=true;TrustServerCertificate=True"
}

# N·∫øu d√πng SQL Authentication thay v√¨ Window Authentication, thay Trusted_Connection=True b·∫±ng User Id=sa;Password=your_password;.


4Ô∏è‚É£ T·∫°o database v√† apply migrations

- Ch·∫°y l·ªánh trong th∆∞ m·ª•c solution:
+ D√πng VS t√≠m: M·ªü Package Manager Console
+ D√πng VS xanh / IDE kh√°c: Ch·∫°y l·ªánh trong terminal
>> dotnet ef database update

L·ªánh n√†y s·∫Ω:
- T·∫°o m·ªõi database BookstoreDB (n·∫øu ch∆∞a c√≥).
- Apply to√†n b·ªô migrations ƒë·ªÉ d·ª±ng schema (Users, Roles, Permissions, RolePermissions, ‚Ä¶).

5Ô∏è‚É£ N·∫øu c√≥ thay ƒë·ªïi model v√† mu·ªën c·∫≠p nh·∫≠t database:
>> dotnet ef migrations add "UpdateSomething"
>> dotnet ef database update

6Ô∏è‚É£ Ch·∫°y d·ª± √°n
>> dotnet run
- D·ª± √°n th∆∞·ªùng ch·∫°y tr√™n localhost c·ªïng 5177

7Ô∏è‚É£ Ki·ªÉm tra database

Sau khi ch·∫°y dotnet ef database update, ki·ªÉm tra trong SQL Server Management Studio (SSMS) s·∫Ω th·∫•y c√°c b·∫£ng:
- Users (AppUser)
- Roles (AppRole)
- UserRoles, UserClaims, UserLogins, UserTokens, RoleClaims (c√°c b·∫£ng c·ªßa ASP.NET Identity t·ª± t·∫°o kh√¥ng c√≥ trong thi·∫øt k·∫ø)
- Permissions
- RolePermissions
- C√°c b·∫£ng business kh√°c (Orders, ImportTickets, ExportTickets, ‚Ä¶)

8Ô∏è‚É£ Troubleshooting
N·∫øu kh√¥ng apply ƒë∆∞·ª£c migration
Xo√° th∆∞ m·ª•c Migrations/ r·ªìi ch·∫°y l·∫°i:
>> dotnet ef migrations add "Init"
>> dotnet ef database update
